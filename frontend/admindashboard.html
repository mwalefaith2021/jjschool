<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=5.0">
    <title>J & J Secondary School - Admin Dashboard</title>
    <link rel="stylesheet" href="dash.css">
</head>
<body>
    <!-- Back to Home Button -->
    <!--<a href="index.html" class="back-to-home">Back to Home</a>-->

    <!-- Admin Dashboard -->
    <div class="dashboard active">
        <div class="header">
            <div class="header-logo">
                <div class="header-logo-image">
                  <a href="index.html">
                    <img src="images/Jandjlogo.png">
                  </a>
                </div>
                <div class="header-text">
                    <h1>Admin Portal - J & J Secondary School</h1>
                    <p>The Arena of a winner</p>
                </div>
            </div>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
        
        <div class="dashboard-content">
            <div class="sidebar">
                <div class="nav-item active" onclick="showSection('admin', 'students')">Student Management</div>
                <div class="nav-item" onclick="showSection('admin', 'applications')">Applications</div>
                <div class="nav-item" onclick="showSection('admin', 'signups')">Pending Signups</div>
                <div class="nav-item" onclick="showSection('admin', 'fees')">Fee Management</div>
                <div class="nav-item" onclick="showSection('admin', 'reports')">Reports</div>
            </div>
            
            <div class="main-content">
                <!-- Students Management Section -->
                <div class="content-section active" id="admin-students">
                    <div class="card">
                        <h2>Students</h2>
                        <div id="studentsToolbar" style="display:flex; gap:10px; margin-bottom:12px;">
                            <input id="studentSearch" placeholder="Search by name or email" style="flex:1; padding:8px; border:1px solid #ccc; border-radius:6px;" />
                            <button class="action-btn" onclick="loadStudents()">Refresh</button>
                        </div>
                        <table class="students-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Username</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="studentsTbody"></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Applications Section -->
                <div class="content-section" id="admin-applications">
                    <div class="card">
                        <h2>Student Applications</h2>
                        <table class="students-table" id="applicationsTable">
                            <thead>
                                <tr>
                                    <th>Application ID</th>
                                    <th>Student Name</th>
                                    <th>Applied Class</th>
                                    <th>Application Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="applicationsTbody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Pending Signups Section -->
                <div class="content-section" id="admin-signups">
                    <div class="card">
                        <h2>Pending Account Signups</h2>
                        <div class="pending-signups">
                            <h3>New Account Requests</h3>
                            <div id="signupsList">
                                <!-- Pending signups will be displayed here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Fee Management Section -->
                <div class="content-section" id="admin-fees">
                    <div class="card">
                        <h2>Fee Management Overview</h2>
                        <p style="font-style: italic; color: #6b6b6b;">No fee summaries available.</p>
                        <div id="paymentsList" style="margin-top:20px;"></div>
                    </div>
                </div>
                
                <!-- Reports Section -->
                <div class="content-section" id="admin-reports">
                    <div class="card">
                        <h2>Reports & Analytics</h2>
                        <div id="reportsStats" class="profile-info"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Application Details Modal -->
    <div id="applicationModal" style="display:none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items: center; justify-content: center; z-index: 1000;">
        <div style="background: #fff; max-width: 700px; width: 95%; border-radius: 10px; padding: 20px; position: relative;">
            <button onclick="closeApplicationModal()" style="position:absolute; top:10px; right:10px; background:#eee; border:none; padding:6px 10px; border-radius:4px; cursor:pointer;">Close</button>
            <h3 style="margin-top:0; color:#1e5631;">Application Details</h3>
            <div id="applicationModalContent"></div>
            <div id="applicationModalActions" style="margin-top: 15px; display:flex; gap:10px;"></div>
        </div>
    </div>

    <!-- Generic Modal -->
    <div id="appModal" style="display:none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index: 1000;">
        <div style="background:#fff; max-width:480px; width: 92%; border-radius:10px; padding: 18px; position:relative;">
            <h3 id="appModalTitle" style="margin:0 0 8px 0; color:#1e5631;">Modal</h3>
            <div id="appModalBody" style="margin-bottom:12px;"></div>
            <div id="appModalActions" style="display:flex; gap:10px; justify-content:flex-end;"></div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="admin.js"></script>
</body>
</html>